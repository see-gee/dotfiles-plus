#autoload
_dotfiles_git_ignore_add() {
  echo "Adding a few good ideas to $HOME/.gitignore file"
  ignore_list=(
    ".ssh"          
  )
  echo "'# Added by dotfiles-plus plugin on '$(date)" >> $HOME/.gitignore
  for i in ${ignore_list}; do
    echo "Adding $i"
    echo "$i\n" >> $HOME/.gitignore    
  done
  return $?
}


if [[ -f $HOME/.gitignore ]]; then
  echo "Existing .gitignore file found:"
  echo "----- begin -----"
  cat $HOME/.gitignore
  echo "----- end -----"
  local backupfile=$HOME/.gitignore.pre.dotfiles-plus.$(date +%Y%m%d_%H%M%S)
  \cp -fp $HOME/.gitignore $backup
  echo "A backup of your existing .gitignore was made: [$backupfile]"
  _dotfiles_git_ignore_add      
  fi    
else
  echo "No .gitignore file found in $HOME.\nCreating .gitignore"
  _dotfiles_git_ignore_add
fi

